@startuml
skinparam SwimlaneTitleFontSize 14
skinparam SwimlaneBorderThickness 1
skinparam ActivityBackgroundColor #FEFECE
skinparam ActivityBorderColor #A80036
skinparam ActivityFontSize 12
skinparam ArrowColor #A80036

|Calon Siswa|
start
:Klik Menu/Tombol Cetak Bukti Pendaftaran;

|Sistem|
:Cek Session Login;
if (Login Valid?) then (Ya)
    :Ambil Data Pendaftaran (User ID);
    if (Data Ditemukan?) then (Ya)
        :Cek Status Pendaftaran;
        if (Status >= Submitted?\n(Sudah Finalisasi)) then (Ya)
            :Load Data Sekolah & Kop Surat;
            :Load Template Bukti Pendaftaran;
            :Generate PDF (DomPDF/Library Lain);
            :Return File Stream/Download;
        else (Tidak / Masih Draft)
            :Set Pesan Flash "Harap Selesaikan Pendaftaran Dahulu";
            :Redirect kembali ke Dashboard;
            stop
        endif
    else (Tidak)
        :Set Pesan Error "Data Pendaftaran Tidak Ditemukan";
        :Redirect ke Dashboard;
        stop
    endif
else (Tidak)
    :Redirect ke Halaman Login;
    stop
endif

|Calon Siswa|
:Menerima File PDF Bukti Pendaftaran;
stop

@enduml
