@startuml
skinparam SwimlaneTitleFontSize 14
skinparam SwimlaneBorderThickness 1
skinparam ActivityBackgroundColor #FEFECE
skinparam ActivityBorderColor #A80036
skinparam ActivityFontSize 12
skinparam ArrowColor #A80036
skinparam Shadowing false

actor "Staf PPDB / Operator Sekolah" as Admin
boundary "Halaman Kelola Pendaftaran" as View
control "AdminPendaftaranController" as Ctrl
entity "Pendaftaran" as Model

Admin -> View : Mengakses menu kelola data pendaftaran
activate View
View -> Ctrl : index()
activate Ctrl
Ctrl -> Model : getPendaftaranList()
activate Model
Model --> Ctrl : listPendaftaran
deactivate Model
Ctrl -> View : renderList(listPendaftaran)
deactivate Ctrl

alt Lihat Detail
    Admin -> View : Pilih siswa (Detail)
    View -> Ctrl : show(id)
    activate Ctrl
    Ctrl -> Model : findWithRelations(id)
    Model --> Ctrl : detailData
    Ctrl --> View : Show Detail Page
    deactivate Ctrl

else Edit Data Siswa
    Admin -> View : Edit data siswa
    View -> Ctrl : update(request)
    activate Ctrl
    Ctrl -> Ctrl : validate(request)
    
    alt Valid
        Ctrl -> Model : update(data)
        Ctrl --> View : Show Success Message
    else Invalid
        Ctrl --> View : Show Error
    end
    deactivate Ctrl

else Hapus Data
    Admin -> View : Hapus data pendaftaran
    View -> Ctrl : destroy(id)
    activate Ctrl
    Ctrl -> Model : deleteCascade(id)
    Ctrl --> View : Show Success Message
    deactivate Ctrl
end

deactivate View

@enduml
