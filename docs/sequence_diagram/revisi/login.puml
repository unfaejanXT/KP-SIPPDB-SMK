@startuml
skinparam SwimlaneTitleFontSize 14
skinparam SwimlaneBorderThickness 1
skinparam ActivityBackgroundColor #FEFECE
skinparam ActivityBorderColor #A80036
skinparam ActivityFontSize 12
skinparam ArrowColor #A80036
skinparam Shadowing false

actor "Pengguna" as User
boundary "Halaman Login" as View
control "AuthenticatedSessionController" as Ctrl
entity "User" as Model

User -> View : Mengakses halaman login
activate View
View -> Ctrl : create()
activate Ctrl
Ctrl --> View : Tampilkan form login
deactivate Ctrl

User -> View : Input Email & Password
View -> Ctrl : store(LoginRequest)
activate Ctrl

Ctrl -> Ctrl : authenticate(credentials)
alt Authentication Failed
    Ctrl --> View : Throw ValidationException
    View --> User : Tampilkan Pesan Error
else Authentication Success
    Ctrl -> Ctrl : session()->regenerate()
    Ctrl --> View : Redirect to Dashboard
    View --> User : Masuk ke Dashboard
end

deactivate Ctrl
deactivate View

@enduml
